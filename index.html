<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>积分商城</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <link rel="shortcut icon" href="/favicon.ico">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="stylesheet" href="css/sm.min.css">
        <link rel="stylesheet" href="css/swiper-3.4.2.min.css">
        <link rel="stylesheet" href="css/index.min.css">
        <link rel="stylesheet" href="font/font.css">
    </head>
    <body>
        <div class="page-group">
            <!--首页-->
            <div class="page page-current" id="main">
                <div class="content">
                    <!--广告轮播-->
                    <div class="swiper-container" id="swiper1" data-space-between='10'>
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">1<img src="img/2.jpg" alt=""></div>
                            <div class="swiper-slide">2<img src='img/2.jpg' alt=""></div>
                            <div class="swiper-slide">3<img src='img/2.jpg' alt=""></div>
                        </div>
                        <div class="swiper-pagination sp1"></div>
                    </div>
                    <!--分类-->
                    <div class="sort">
                        <ul>
                            <a href='#sort'>
                                <li><i class="icon icon-app"></i>分类</li>
                            </a>
                            <a href='#order'>
                                <li><i class="icon icon-menu"></i>我的订单</li>
                            </a>
                            <a href='#search'>
                                <li><i class="icon icon-search"></i>搜索</li>
                            </a>
                            <a href='#my'>
                                <li><i class="icon icon-me"></i>我的积分</li>
                            </a>
                            <!--<a href='#know'>
                                <li>
                                    <img src="img/know.png" class="icon-know">卖家入住
                                </li>
                            </a>-->
                            <a href='#seller'>
                                <li><i class="icon icon-friends"></i>发布商品</li>
                            </a>
                        </ul>
                    </div>
                    <div class='hot'>
                        <div class="card">
                            <div class="card-header">热门兑换</div>
                            <div class="card-content">
                                <div class="card-content-inner">
                                    <!-- Swiper -->
                                    <div class="swiper-container" id="swiper2">
                                        <div class="swiper-wrapper">
                                            <div class="swiper-slide">
                                                <a href="#info" class="per">
                                                    <img src="img/1.jpg" alt="">                                                    100积分兑换
                                                </a>
                                            </div>
                                            <div class="swiper-slide">
                                                <a href="#info" class="per">
                                                    <img src="img/1.jpg" alt="">                                                    100积分兑换
                                                </a>
                                            </div>
                                            <div class="swiper-slide">
                                                <a href="#info" class="per">
                                                    <img src="img/1.jpg" alt="">                                                    100积分兑换
                                                </a>
                                            </div>
                                            <div class="swiper-slide">
                                                <a href="#info" class="per">
                                                    <img src="img/2.jpg" alt="">                                                    100积分兑换
                                                </a>
                                            </div>
                                            <div class="swiper-slide">
                                                <a href="#info" class="per">
                                                    <img src="img/2.jpg" alt="">                                                    100积分兑换
                                                </a>
                                            </div>
                                            <div class="swiper-slide">
                                                <a href="#info" class="per">
                                                    <img src="img/2.jpg" alt="">                                                    100积分兑换
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='recommend'>
                        <div class="card">
                            <div class="card-header">为你推荐</div>
                            <div class="card-content">
                                <ul id="goods" class="goods">
                                    <li class="per-goods">
                                        <a data-gid='goods1' href='#info'>
                                            <div>
                                                <img src="img/1.jpg" alt="">
                                                <p class="goods-t">【限时秒杀】汉堡王草莓新地买一送一优惠券</p>
                                                <div class="flex-l-r">
                                                    <span class="fen"><span>100</span>积分</span>
                                                    <span class='buy'>兑换</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li class="per-goods">
                                        <a data-gid='goods1' href='#info'>
                                            <div>
                                                <img src="img/1.jpg" alt="">
                                                <p class="goods-t">【限时秒杀】汉堡王草莓新地买一送一优惠券</p>
                                                <div class="flex-l-r">
                                                    <span class="fen"><span>100</span>积分</span>
                                                    <span class='buy'>兑换</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li class="per-goods">
                                        <a data-gid='goods1' href='#info'>
                                            <div>
                                                <img src="img/1.jpg" alt="">
                                                <p class="goods-t">【限时秒杀】汉堡王草莓新地买一送一优惠券</p>
                                                <div class="flex-l-r">
                                                    <span class="fen"><span>100</span>积分</span>
                                                    <span class='buy'>兑换</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li class="per-goods">
                                        <a data-gid='goods1' href='#info'>
                                            <div>
                                                <img src="img/1.jpg" alt="">
                                                <p class="goods-t">【限时秒杀】汉堡王草莓新地买一送一优惠券</p>
                                                <div class="flex-l-r">
                                                    <span class="fen"><span>100</span>积分</span>
                                                    <span class='buy'>兑换</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li class="per-goods">
                                        <a data-gid='goods1' href='#info'>
                                            <div>
                                                <img src="img/1.jpg" alt="">
                                                <p class="goods-t">【限时秒杀】汉堡王草莓新地买一送一优惠券</p>
                                                <div class="flex-l-r">
                                                    <span class="fen"><span>100</span>积分</span>
                                                    <span class='buy'>兑换</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--分类-->
            <div class="page" id="sort">
                <header class="bar bar-nav">
                    <a class="pull-left back icon icon-left">返回</a>
                    <h1 class="title">分类</h1>
                </header>
                <div class='content'>
                    <ul class='sort-l'>
                        <li data-tar='#sort1' class='active'>分类一</li>
                        <li data-tar='#sort2'>分类二</li>
                        <li data-tar='#sort3'>其他</li>
                    </ul>
                    <div class='sort-r'>
                        <div id="sort1">
                            sort1
                        </div>
                        <div id="sort2" style='display:none'>
                            sort2
                        </div>
                        <div id="sort3" style='display:none'>
                            sort3
                        </div>
                    </div>
                </div>
            </div>
            <!--订单-->
            <div id="order" class="page">
                <header class="bar bar-nav">
                    <a class="pull-left back icon icon-left">返回</a>
                    <h1 class="title">我的订单</h1>
                </header>
                <div class="content ">
                    <div class="buttons-tab">
                        <a href="#tab1" class="tab-link active button">待兑换</a>
                        <a href="#tab2" class="tab-link button">待收货</a>
                        <a href="#tab3" class="tab-link button">已完成</a>
                    </div>
                    <div class="tabs">
                        <div id="tab1" class="tab active">
                            <div class='list-block media-list'>
                                <ul>
                                    <li class="per-order">
                                        <span class='checkbox'></span>
                                        <a href='#info'>
                                            <div class='per-order-r'>
                                                <div class='per-order-img'>
                                                    <img src="img/1.jpg" alt="">
                                                </div>
                                                <div class='per-order-info'>
                                                    <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                    <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>2</i></span></p>
                                                    <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                    <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="dele">删除</div>
                                    </li>
                                    <li class="per-order">
                                        <span class='checkbox'></span>
                                        <a href='#info'>
                                            <div class='per-order-r'>
                                                <div class='per-order-img'>
                                                    <img src="img/1.jpg" alt="">
                                                </div>
                                                <div class='per-order-info'>
                                                    <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                    <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>2</i></span></p>
                                                    <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                    <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="dele">删除</div>
                                    </li>
                                    <li class="per-order">
                                        <span class='checkbox'></span>
                                        <a href='#info'>
                                            <div class='per-order-r'>
                                                <div class='per-order-img'>
                                                    <img src="img/1.jpg" alt="">
                                                </div>
                                                <div class='per-order-info'>
                                                    <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                    <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>1</i></span></p>
                                                    <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                    <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="dele">删除</div>
                                    </li>
                                    <li class="per-order">
                                        <span class='checkbox'></span>
                                        <a href='#info'>
                                            <div class='per-order-r'>
                                                <div class='per-order-img'>
                                                    <img src="img/1.jpg" alt="">
                                                </div>
                                                <div class='per-order-info'>
                                                    <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                    <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>1</i></span></p>
                                                    <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                    <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="dele">删除</div>
                                    </li>
                                    <li class="per-order">
                                        <span class='checkbox'></span>
                                        <a href='#info'>
                                            <div class='per-order-r'>
                                                <div class='per-order-img'>
                                                    <img src="img/1.jpg" alt="">
                                                </div>
                                                <div class='per-order-info'>
                                                    <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                    <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>1</i></span></p>
                                                    <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                    <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="dele">删除</div>
                                    </li>
                                    <li class="per-order">
                                        <span class='checkbox'></span>
                                        <a href='#info'>
                                            <div class='per-order-r'>
                                                <div class='per-order-img'>
                                                    <img src="img/1.jpg" alt="">
                                                </div>
                                                <div class='per-order-info'>
                                                    <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                    <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>1</i></span></p>
                                                    <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                    <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="dele">删除</div>
                                    </li>
                                    <li class="per-order">
                                        <span class='checkbox'></span>
                                        <a href='#info'>
                                            <div class='per-order-r'>
                                                <div class='per-order-img'>
                                                    <img src="img/1.jpg" alt="">
                                                </div>
                                                <div class='per-order-info'>
                                                    <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                    <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>1</i></span></p>
                                                    <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                    <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                </div>
                                            </div>
                                        </a>
                                        <div class="dele">删除</div>
                                    </li>
                                   
                                </ul>
                            </div>
                            <div class='pay'>
                                <div class="all-check">
                                    <span class='checkbox'></span>
                                    <div class='pay-l'>
                                        总价：<span class='order-total'>0</span>积分
                                    </div>
                                </div>
                                <div class="pay-r">
                                    立即兑换
                                </div>
                            </div>
                        </div>
                        <div id="tab2" class="tab">
                                <ul>
                                    <li class='sending'>
                                        <div class='per-order-r'>
                                            <div class='per-order-img'>
                                                <img src="img/1.jpg" alt="">
                                            </div>
                                            <div class='per-order-info'>
                                                <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>2</i></span></p>
                                                <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                <p class='express'>快递单号：<span>12345678960</span></p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class='sending'>
                                        <div class='per-order-r'>
                                            <div class='per-order-img'>
                                                <img src="img/1.jpg" alt="">
                                            </div>
                                            <div class='per-order-info'>
                                                <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>2</i></span></p>
                                                <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                <p class='express'>快递单号：<span>12345678960</span></p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class='sending'>
                                        <div class='per-order-r'>
                                            <div class='per-order-img'>
                                                <img src="img/1.jpg" alt="">
                                            </div>
                                            <div class='per-order-info'>
                                                <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>2</i></span></p>
                                                <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                <p class='express'>快递单号：<span>12345678960</span></p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class='sending'>
                                        <div class='per-order-r'>
                                            <div class='per-order-img'>
                                                <img src="img/1.jpg" alt="">
                                            </div>
                                            <div class='per-order-info'>
                                                <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>2</i></span></p>
                                                <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                <p class='express'>快递单号：<span>12345678960</span></p>
                                            </div>
                                        </div>
                                    </li>
                                    <li class='sending'>
                                        <div class='per-order-r'>
                                            <div class='per-order-img'>
                                                <img src="img/1.jpg" alt="">
                                            </div>
                                            <div class='per-order-info'>
                                                <h5>【限时秒杀】汉堡王草莓新地买一送一优惠券</h5>
                                                <p><span class='per-fen'>100</span>积分 <span class='num'>&times;<i>2</i></span></p>
                                                <p class='addres'>寄到：<span>湖北省武汉市中南路112号</span></p>
                                                <p class='leave-msg'>留言：<span>请寄顺丰快递</span></p>
                                                <p class='express'>快递单号：<span>12345678960</span></p>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                       
                        </div>
                        <div id="tab3" class="tab">
                            <div class="content-block">
                                <p>This is tab 3 content</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--搜索-->
            <div class="page" id="search">
                <header class="bar bar-nav">
                    <a class="pull-left back icon icon-left">返回</a>
                    <h1 class="title">搜索</h1>
                </header>
                <div class="bar bar-header-secondary">
                    <div class="searchbar">
                        <a class="searchbar-cancel">取消</a>
                        <div class="search-input">
                            <label class="icon icon-search" for="search"></label>
                            <input type="search" placeholder='输入关键字...' />
                        </div>
                    </div>
                </div>
            </div>
            <!--我的积分-->
            <div class="page" id="my">
                <div class="content">
                    <header class="bar bar-nav">
                        <a class="pull-left back icon icon-left">返回</a>
                        <h1 class="title">我的积分<a href="#know">兑换须知</a></h1>
                    </header>
                    <div class="list-block contacts-block">
                        <div class="list-group">
                            <ul>
                                <li class="list-group-title">我的积分：<span>100</span></li>
                                <li>
                                    <div class="item-content">
                                        <div class="item-inner">
                                            <div class="item-title">
                                                <span class='point'>消费：10积分</span>
                                                <span class='time'>2017-5-1</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-content">
                                        <div class="item-inner">
                                            <div class="item-title">
                                                <span class='point'>消费：10积分</span>
                                                <span class='time'>2017-5-1</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-content">
                                        <div class="item-inner">
                                            <div class="item-title">
                                                <span class='point'>消费：10积分</span>
                                                <span class='time'>2017-5-1</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="item-content">
                                        <div class="item-inner">
                                            <div class="item-title">
                                                <span class='point'>消费：10积分</span>
                                                <span class='time'>2017-5-1</span>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!--兑换须知-->
            <div class="page" id="know">
                <header class="bar bar-nav">
                    <a class="pull-left back icon icon-left">返回</a>
                    <h1 class="title">兑换须知</h1>
                </header>
                <div class="content">
                    <h3 class="know-t">常见问题</h3>
                    <div class="card">
                        <div class="card-header">什么是熊猫积分？</div>
                        <div class="card-content">
                            <div class="card-content-inner">头和尾的卡片。卡头是用来显示一些额外的信息，或自定义操作卡标题和页脚。</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">如何获取熊猫积分？</div>
                        <div class="card-content">
                            <div class="card-content-inner">头和尾的卡片。卡头是用来显示一些额外的信息，或自定义操作卡标题和页脚。</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">如何使用熊猫积分？</div>
                        <div class="card-content">
                            <div class="card-content-inner">头和尾的卡片。卡头是用来显示一些额外的信息，或自定义操作卡标题和页脚。</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">熊猫积分有效期多久？</div>
                        <div class="card-content">
                            <div class="card-content-inner">头和尾的卡片。卡头是用来显示一些额外的信息，或自定义操作卡标题和页脚。</div>
                        </div>
                    </div>

                </div>
            </div>
            <!--商品详情-->
            <div id="info" class="page">
                <header class="bar bar-nav">
                    <a class="pull-left back icon icon-left">返回</a>
                    <h1 class="title">详情</h1>
                </header>
                <div class='content'>
                    <div class="card demo-card-header-pic">
                        <div valign="bottom" class="card-header color-white no-border no-padding">
                            <img class='card-cover' src="img/1.jpg"
                                alt="">
                        </div>
                        <div class="card-content">
                            <div class="card-content-inner" style="padding-bottom:0">
                                <div class='intro'>
                                    <h3>隆力奇 蛇胆清爽沐浴露 保湿滋润补水 清爽沐浴乳 200ml</h3>
                                </div>
                                <p class="color-gray">库存量：<span>100</span>件</p>
                                <p class="color-gray">来自：荷兰品牌 菜鸟重庆保税2号仓发货</p>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header hot-t">商品简介</div>
                        <div class="card-content">
                        <div class="card-content-inner">这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介这里是商品简介</div>
                        </div>
                        <div class="card-footer msg">
                            <div>
                                <span class='red'>*</span> 联系方式：
                                <div class='list-block'><textarea style="height:2rem"></textarea></div>
                            </div>
                            <div class='addr'>
                                <span class='red'>*</span> 邮寄地址:
                                 <div class='list-block'><textarea></textarea></div>
                            </div>
                            <div>
                                给卖家留言：
                                <div class='list-block'><textarea></textarea></div>
                            </div>
                        </div>
                    </div>
                    <div class='info-footer'>
                        <div class='i-l'>
                            单价：<span>200</span>积分
                        </div>
                        <div class='i-r'>
                            立即兑换
                        </div>
                    </div>
                </div>
            </div>
            <!--发布商品-->
            <div id="seller" class='page'>
                <header class="bar bar-nav">
                    <a class="pull-left back icon icon-left">返回</a>
                    <h1 class="title">发布商品</h1>
                </header>
                <div class="content">
                    <div class="list-block">
                        <ul>
                            <li>
                                <div class="item-content">
                                    <div class="item-inner">
                                        <div class="item-title label">姓名</div>
                                        <div class="item-input">
                                        <input type="text" placeholder="您的姓名">
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="item-content">
                                    <div class="item-inner">
                                        <div class="item-title label">联系方式</div>
                                        <div class="item-input">
                                        <input type="tel" placeholder="您的联系方式">
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="item-content">
                                    <div class="item-inner">
                                        <div class="item-title label">商品名称</div>
                                        <div class="item-input">
                                        <input type="text" placeholder="商品名称">
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="item-content">
                                    <div class="item-inner">
                                        <div class="item-title label">兑换积分</div>
                                        <div class="item-input">
                                        <input type="number" placeholder="兑换积分">
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="item-content">
                                    <div class="item-inner" style='display:block'>
                                        <input type="file" id="chooseImg" accept="image/*" multiple>
                                        <ul class="img-list"></ul>
                                        <a id="upload">上传商品图片</a>
                                        <span class="tips">只允许上传jpg、png及gif</span>
                                    </div>
                                </div>
                            </li>
                           <li class="align-top">
                             <div class="item-content">
                               <div class="item-media"><i class="icon icon-form-comment"></i></div>
                               <div class="item-inner">
                                 <div class="item-title label">商品简介</div>
                                 <div class="item-input">
                                   <textarea></textarea>
                                 </div>
                               </div>
                             </div>
                           </li>
                           <li>
                                <a href="javascript:postGoods()" class="button button-big button-fill button-success">提交</a>
                           </li>
                        </ul>
                    </div>
                </div>

            </div>
            <!--成为商家-->
            <div class="page" id="become">
                <header class="bar bar-nav">
                    <a class="pull-left back icon icon-left">返回</a>
                    <h1 class="title">成为商家</h1>
                </header>
                <div class="content">
                <div class="list-block">
                  <ul>
                    <li>
                      <div class="item-content">
                        <div class="item-inner">
                          <div class="item-title label">姓名</div>
                          <div class="item-input">
                            <input type="text" placeholder="您的姓名">
                          </div>
                        </div>
                      </div>
                    </li>
                    <li>
                      <div class="item-content">
                        <div class="item-inner">
                          <div class="item-title label">联系方式</div>
                          <div class="item-input">
                            <input type="text" placeholder="您的联系方式">
                          </div>
                        </div>
                      </div>
                    </li>
                   <li class="align-top">
                     <div class="item-content">
                       <div class="item-media"><i class="icon icon-form-comment"></i></div>
                       <div class="item-inner">
                         <div class="item-title label">现居住地址</div>
                         <div class="item-input">
                           <textarea></textarea>
                         </div>
                       </div>
                     </div>
                   </li>
                    <li>
                        <div class="item-content">
                            <div class="item-inner">
                                <a href="javascript:postGoods()" class="button button-big button-fill button-success">提交</a>
                            </div>
                        </div>
                    </li>
                    <li class='notice'>
                        成为商家需要手续费，提交后会有客户联系您
                    </li>
                  </ul>
                </div>
            </div>
        </div>
        <!-- popup, panel 等放在这里 -->
        <div class="panel-overlay"></div>
        <script src="js/jquery-3.2.1.min.js"></script>
        <script>var Zepto = $;</script>
        <script src="js/sm.min.js"></script>
        <script src="js/swiper-3.4.2.jquery.min.js"></script>
        <script>
            var gid = null

            $(document).on("pageInit", function (e, pageId, $page) {
                //分类
                if (pageId == "sort") {
                    $('#sort .sort-l').click(function (e) {
                        var tar = e.target
                        $(tar).addClass('active').siblings().removeClass(
                            'active')
                        $('#sort .sort-r>div').hide();
                        $($(tar).attr('data-tar')).show()
                    })
                }
                //主页面
                if (pageId == "main") {
                    // 轮播
                    var mySwiper1 = new Swiper('#swiper1', {
                        pagination: '.swiper-pagination',
                        autoplay: 3000,
                        paginationClickable: true
                    })
                    var mySwiper2 = new Swiper('#swiper2', {
                        slidesPerView: 3,
                        paginationClickable: true,
                        spaceBetween: 30,
                        freeMode: true
                    })
                }
                //订单
                if (pageId == 'order') {
                    //checkbox事件
                    var $tab1=$('#tab1'),tx=0;ty=0
                    $('.checkbox').click(function () {
                        $(this).toggleClass('checked')
                    })
                    $('.all-check .checkbox').click(function () {
                        $('.per-order .checkbox').attr('class',
                            $(this).attr('class'))
                        calcTotal()
                    })
                    $('.per-order .checkbox').click(function () {
                        if ($('.per-order .checkbox.checked').length ==
                            $(this).parents('ul').find(
                                '.per-order').length) {
                            $('.all-check .checkbox').addClass(
                                'checked')
                        } else {
                            $('.all-check .checkbox').removeClass(
                                'checked')
                        }
                        calcTotal()
                    })

                    //删除订单触摸事件
                    $tab1.find('.per-order-r').on('touchstart',function (e) {
                        tx=e.touches[0].pageX
                        ty=e.touches[0].pageY
                    })
                    $tab1.find('.per-order-r').on('touchend',function (e) {
                        var ex=e.changedTouches[0].pageX,ey=e.changedTouches[0].pageY,$dele=$(this).parent().siblings('.dele')
                         if(tx-ex>50){
                            $dele.css('display','flex').animate({width:'44px'},100)}
                        else{
                            $dele.animate({width:0},100).hide(100)
                        }
                    })
                    // $tab1.find('.per-order-r').on('touchmove',function (e) {
                    //     var mx=e.touches[0].pageX,my=e.touches[0].pageY,$dele=$(this).parent().siblings('.dele')
                    //     console.log('tx-mx '+(tx-mx))
                    //     if(tx-mx>50){
                    //         $dele.css('display','flex').animate({width:'44px'},40)}
                    //     else{
                    //         $dele.animate({width:0},40).css('display','none')
                    //     }
                    // })

                    // 删除功能
                    $tab1.find('.dele').click(function () {
                        $.toast("订单删除中",20000);
                    })

                }
                //积分须知
                if (pageId == 'know') {
                    $('#know .card-header').click(function () {
                        $(this).next().toggle(350).parent().siblings(
                            '.card').find('.card-content').slideUp()
                    })
                }
                //商品详情
                if (pageId == 'info') {
                    
                }
                //成为商家
                if (pageId == 'seller') {
                    $('#seller').find('input[type="tel"]').blur(function(){
                        !/^1[3|4|5|8][0-9]\d{4,8}$/.test($(this).val())&&$.toast('手机号格式不正确',2000,'toast-8')
                    })
                }
            });

            //计算总积分
            function calcTotal() {
                var total = 0
                $('.per-order .checkbox.checked').siblings().find('.per-fen').each(function (i, v) {
                    var n=$(this).next().find('i').html()-0;
                        total += ($(v).html() - 0)*n
                    })
                $('.order-total').html(total)
            }

            $(function () {

                $.init();

                //详情
                $('a[data-gid]').click(function () {
                    gid = $(this).attr('data-gid');
                })

                // 兑换
                $('#goods').find('.buy').click(function (event) {
                    event.stopPropagation()
                    event.preventDefault()
                    if (!$(this).hasClass('added')) {
                        $.toast('已加入我的订单', 2000, 'toast-added')
                        // $(this).addClass('added').html('已兑换')
                    }
                })

                //图片上传
                uploadImg()

            })

            function postGoods() { 
                $('#seller').find('input').each(function (i,v) { 
                    if(!v.value){
                        switch (i) {
                            case 0: $.toast("请填入您的姓名",2000,'toast-7');break;
                            case 1: $.toast("请填入联系方式",2000,'toast-7');break;
                            case 2: $.toast("请填入商品名称",2000,'toast-7');break;
                            case 3: $.toast("请填入兑换积分",2000,'toast-7');break;
                            case 4: $.toast("请上传商品图片",2000,'toast-7');break;
                            default:
                                $.toast("请上传商品图片",2000,'toast-7')
                                break;
                        }
                        return false;
                    }
                })
            }

            function uploadImg() {
                var filechooser = document.getElementById("chooseImg");
                //    用于压缩图片的canvas
                var canvas = document.createElement("canvas");
                var ctx = canvas.getContext('2d');
                //    瓦片canvas
                var tCanvas = document.createElement("canvas");
                var tctx = tCanvas.getContext("2d");
                var maxsize = 100 * 1024;
                $("#upload").on("click", function() {
                        filechooser.click();
                    })
                filechooser.onchange = function() {
                    if (!this.files.length) return;
                    var files = Array.prototype.slice.call(this.files);
                    if (files.length > 9) {
                    alert("最多同时只可上传9张图片");
                    return;
                    }
                    files.forEach(function(file, i) {
                    if (!/\/(?:jpeg|png|gif)/i.test(file.type)) return;
                    var reader = new FileReader();
                    var li = document.createElement("li");
                //          获取图片大小
                    var size = file.size / 1024 > 1024 ? (~~(10 * file.size / 1024 / 1024)) / 10 + "MB" : ~~(file.size / 1024) + "KB";
                    li.innerHTML = '<div class="progress"><span></span></div><div class="size">' + size + '</div>';
                    $(".img-list").append($(li));
                    reader.onload = function() {
                        var result = this.result;
                        var img = new Image();
                        img.src = result;
                        $(li).css("background-image", "url(" + result + ")");
                        //如果图片大小小于100kb，则直接上传
                        if (result.length <= maxsize) {
                        img = null;
                        upload(result, file.type, $(li));
                        return;
                        }
                //      图片加载完毕之后进行压缩，然后上传
                        if (img.complete) {
                        callback();
                        } else {
                        img.onload = callback;
                        }
                        function callback() {
                        var data = compress(img);
                        upload(data, file.type, $(li));
                        img = null;
                        }
                    };
                    reader.readAsDataURL(file);
                    })
                };
                //    使用canvas对大图片进行压缩
                function compress(img) {
                    var initSize = img.src.length;
                    var width = img.width;
                    var height = img.height;
                    //如果图片大于四百万像素，计算压缩比并将大小压至400万以下
                    var ratio;
                    if ((ratio = width * height / 4000000) > 1) {
                    ratio = Math.sqrt(ratio);
                    width /= ratio;
                    height /= ratio;
                    } else {
                    ratio = 1;
                    }
                    canvas.width = width;
                    canvas.height = height;
                //        铺底色
                    ctx.fillStyle = "#fff";
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    //如果图片像素大于100万则使用瓦片绘制
                    var count;
                    if ((count = width * height / 1000000) > 1) {
                    count = ~~(Math.sqrt(count) + 1); //计算要分成多少块瓦片
                //            计算每块瓦片的宽和高
                    var nw = ~~(width / count);
                    var nh = ~~(height / count);
                    tCanvas.width = nw;
                    tCanvas.height = nh;
                    for (var i = 0; i < count; i++) {
                        for (var j = 0; j < count; j++) {
                        tctx.drawImage(img, i * nw * ratio, j * nh * ratio, nw * ratio, nh * ratio, 0, 0, nw, nh);
                        ctx.drawImage(tCanvas, i * nw, j * nh, nw, nh);
                        }
                    }
                    } else {
                    ctx.drawImage(img, 0, 0, width, height);
                    }
                    //进行最小压缩
                    var ndata = canvas.toDataURL('image/jpeg', 0.1);
                    console.log('压缩前：' + initSize);
                    console.log('压缩后：' + ndata.length);
                    console.log('压缩率：' + ~~(100 * (initSize - ndata.length) / initSize) + "%");
                    tCanvas.width = tCanvas.height = canvas.width = canvas.height = 0;
                    return ndata;
                }
                //    图片上传，将base64的图片转成二进制对象，塞进formdata上传
                function upload(basestr, type, $li) {
                    var text = window.atob(basestr.split(",")[1]);
                    var buffer = new Uint8Array(text.length);
                    var pecent = 0, loop = null;
                    for (var i = 0; i < text.length; i++) {
                    buffer[i] = text.charCodeAt(i);
                    }
                    var blob = getBlob([buffer], type);
                    var xhr = new XMLHttpRequest();
                    var formdata = getFormData();
                    formdata.append('imagefile', blob);
                    xhr.open('post', '/cupload');
                    xhr.onreadystatechange = function() {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        var jsonData = JSON.parse(xhr.responseText);
                        var imagedata = jsonData[0] || {};
                        var text = imagedata.path ? '上传成功' : '上传失败';
                        console.log(text + '：' + imagedata.path);
                        clearInterval(loop);
                        //当收到该消息时上传完毕
                        $li.find(".progress span").animate({'width': "100%"}, pecent < 95 ? 200 : 0, function() {
                        $(this).html(text);
                        });
                        if (!imagedata.path) return;
                        $(".pic-list").append('<a href="' + imagedata.path + '">' + imagedata.name + '（' + imagedata.size + '）<img src="' + imagedata.path + '" /></a>');
                    }
                    };
                    //数据发送进度，前50%展示该进度
                    xhr.upload.addEventListener('progress', function(e) {
                    if (loop) return;
                    pecent = ~~(100 * e.loaded / e.total) / 2;
                    $li.find(".progress span").css('width', pecent + "%");
                    if (pecent == 50) {
                        mockProgress();
                    }
                    }, false);
                    //数据后50%用模拟进度
                    function mockProgress() {
                    if (loop) return;
                    loop = setInterval(function() {
                        pecent++;
                        $li.find(".progress span").css('width', pecent + "%");
                        if (pecent == 99) {
                        clearInterval(loop);
                        }
                    }, 100)
                    }
                    xhr.send(formdata);
                }
                /**
                * 获取blob对象的兼容性写法
                * @param buffer
                * @param format
                * @returns {*}
                */
                function getBlob(buffer, format) {
                    try {
                    return new Blob(buffer, {type: format});
                    } catch (e) {
                    var bb = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MSBlobBuilder);
                    buffer.forEach(function(buf) {
                        bb.append(buf);
                    });
                    return bb.getBlob(format);
                    }
                }
                /**
                * 获取formdata
                */
                function getFormData() {
                    var isNeedShim = ~navigator.userAgent.indexOf('Android')
                        && ~navigator.vendor.indexOf('Google')
                        && !~navigator.userAgent.indexOf('Chrome')
                        && navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop() <= 534;
                    return isNeedShim ? new FormDataShim() : new FormData()
                }
                /**
                * formdata 补丁, 给不支持formdata上传blob的android机打补丁
                * @constructor
                */
                function FormDataShim() {
                    console.warn('using formdata shim');
                    var o = this,
                        parts = [],
                        boundary = Array(21).join('-') + (+new Date() * (1e16 * Math.random())).toString(36),
                        oldSend = XMLHttpRequest.prototype.send;
                    this.append = function(name, value, filename) {
                    parts.push('--' + boundary + '\r\nContent-Disposition: form-data; name="' + name + '"');
                    if (value instanceof Blob) {
                        parts.push('; filename="' + (filename || 'blob') + '"\r\nContent-Type: ' + value.type + '\r\n\r\n');
                        parts.push(value);
                    }
                    else {
                        parts.push('\r\n\r\n' + value);
                    }
                    parts.push('\r\n');
                    };
                    // Override XHR send()
                    XMLHttpRequest.prototype.send = function(val) {
                    var fr,
                        data,
                        oXHR = this;
                    if (val === o) {
                        // Append the final boundary string
                        parts.push('--' + boundary + '--\r\n');
                        // Create the blob
                        data = getBlob(parts);
                        // Set up and read the blob into an array to be sent
                        fr = new FileReader();
                        fr.onload = function() {
                        oldSend.call(oXHR, fr.result);
                        };
                        fr.onerror = function(err) {
                        throw err;
                        };
                        fr.readAsArrayBuffer(data);
                        // Set the multipart content type and boudary
                        this.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);
                        XMLHttpRequest.prototype.send = oldSend;
                    }
                    else {
                        oldSend.call(this, val);
                    }
                    };
                }



            }



        </script>
    </body>

</html>